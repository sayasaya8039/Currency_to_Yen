(()=>{"use strict";const e=["USD","EUR","GBP","CNY","KRW","AUD"];document.addEventListener("DOMContentLoaded",async function(){await async function(){const e=document.getElementById("enableToggle");if(e)try{const n=await chrome.runtime.sendMessage({type:"GET_SETTINGS"});if(n.success){const t=n.data;e.checked=t.enabled}}catch(e){console.error("[Currency to Yen] 設定取得エラー:",e)}}(),await async function(){const n=document.getElementById("ratesList"),t=document.getElementById("ratesDate");if(n&&t)try{const a=await chrome.runtime.sendMessage({type:"GET_ALL_RATES"});if(!a.success)return void(n.innerHTML='<div class="rates-loading">エラーが発生しました</div>');const{rates:s,date:c}=a.data,r=e.filter(e=>s[e]).map(e=>{return`\n          <div class="rate-item">\n            <span class="rate-code">${e}</span>\n            <span class="rate-value">${n=s[e],new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",maximumFractionDigits:0}).format(Math.round(n))}</span>\n          </div>\n        `;var n}).join("");n.innerHTML=r||'<div class="rates-loading">データなし</div>',t.textContent=`更新日: ${c}`}catch(e){console.error("[Currency to Yen] レート取得エラー:",e),n.innerHTML='<div class="rates-loading">データを取得できませんでした</div>'}}(),function(){const e=document.getElementById("enableToggle");e&&e.addEventListener("change",()=>{!async function(e){try{await chrome.runtime.sendMessage({type:"SET_SETTINGS",settings:e})}catch(e){console.error("[Currency to Yen] 設定保存エラー:",e)}}({enabled:e.checked})})}()})})();
//# sourceMappingURL=popup.js.map